var L=Object.defineProperty;var x=(a,e,t)=>e in a?L(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var i=(a,e,t)=>(x(a,typeof e!="symbol"?e+"":e,t),t);const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};E();class h{constructor(e,t,n,s){i(this,"text");i(this,"cssList");i(this,"callback");i(this,"isDisabled");i(this,"element");this.text=e,this.cssList=t||[],this.callback=n,this.isDisabled=s||!1,this.element=this.initElement()}initElement(){let e=document.createElement("button");return e.innerHTML=this.text,this.cssList.forEach(t=>{e.classList.add(t)}),this.isDisabled&&e.setAttribute("disabled","disabled"),e.addEventListener("click",this.callback),e}toggleDisable(){this.isDisabled=!this.isDisabled,this.isDisabled?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}class b{constructor(e,t,n,s,r){i(this,"id");i(this,"type");i(this,"cssList");i(this,"isDisabled");i(this,"placeholder");i(this,"element");this.id=t,this.type=n||"text",this.cssList=e||[],this.placeholder=s||"",this.isDisabled=r||!1,this.element=this.initElement()}initElement(){let e=document.createElement("input");return e.setAttribute("type",this.type),e.setAttribute("placeholder",this.placeholder),e.id=this.id,e.classList.add("form-control"),this.cssList.forEach(t=>{e.classList.add(t)}),this.isDisabled&&e.setAttribute("disabled","disabled"),e}toggleDisable(){this.isDisabled=!this.isDisabled,this.isDisabled?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}class o{constructor(e=[],t=[]){i(this,"elements");i(this,"cssList");i(this,"element");this.cssList=e||[],this.elements=t||[],this.element=this.initElement()}initElement(){let e=document.createElement("div");return e.classList.add("col"),this.cssList.forEach(t=>{e.classList.add(t)}),this.elements.forEach(t=>{e.append(t.element)}),e}}class c{constructor(e=[],t=[]){i(this,"columns");i(this,"cssList");i(this,"element");this.cssList=e||[],this.columns=t||[],this.element=this.initElement()}initElement(){let e=document.createElement("div");return e.classList.add("row"),this.cssList.forEach(t=>{e.classList.add(t)}),this.columns.forEach(t=>{e.append(t.element)}),e}addColumn(e){this.columns.push(e)}}class D{constructor(){i(this,"element");this.element=document.createElement("div"),this.element.id="select-area",document.getElementById("game").append(this.element)}displayDebug(){let e=new h("Add",["btn","btn-primary","w-100"],()=>{}),t=new h("Delete",["btn","btn-danger","w-100"],()=>{}),n=new b(["w-100"],"testInput"),s=new o([],[e]),r=new o([],[t]),l=new o([],[n]),d=new c([],[s,r]),u=new c([],[l]);this.setView([d,u])}setView(e){this.element.innerHTML="",e.forEach(t=>{this.element.append(t.element)})}clearView(){this.element.innerHTML=""}setInactive(){this.element.classList.add("inactive-bottom")}setActive(){this.element.classList.remove("inactive-bottom")}}class T{constructor(){i(this,"containerElement");i(this,"imageArea");i(this,"displayArea");this.imageArea=document.createElement("div"),this.imageArea.id="picture-area",this.displayArea=document.createElement("div"),this.displayArea.id="display-area",this.containerElement=document.getElementById("displays"),this.containerElement.append(this.imageArea),this.containerElement.append(this.displayArea)}async displayText(e){this.displayArea.innerHTML="";let t=[];t=e.split("");let n=0;for(;t.length>n;)await this.waitForMS(10),this.displayArea.innerHTML+=t[n],n++}async waitForMS(e){return new Promise(t=>setTimeout(t,e))}}let F={colors:["#054db2","#f2b124","#8c0505"]};class C{constructor(){i(this,"element",null);i(this,"player_faction",null);i(this,"citizens",{amount:null,maximum:null});i(this,"food",{amount:null,maximum:null});i(this,"land",{amount:null,maximum:null});i(this,"credits",null);i(this,"year",null);this.element=document.getElementById("status-bar"),this.setInactive()}setFaction(e){this.player_faction=e,this.draw()}setCitizens(e){this.citizens=e,this.draw()}setFood(e){this.food=e,this.draw()}setLand(e){this.land=e,this.draw()}setCredits(e){this.credits=e,this.draw()}setYear(e){this.year=e,this.draw()}update(e){this.credits=e.credits||this.credits,this.food=e.food||this.food,this.land=e.land||this.land,this.citizens=e.citizen||this.citizens,this.year=e.year||this.year,this.draw()}draw(){this.setActive(),this.element.innerHTML="";let e=new o;e.element.style.background=F.colors[this.player_faction];let t=new o;t.element.innerHTML=`<div><img src="./src/img/icons/ed_icon_B.png" class="icon me-4" alt="picture">\u20AC/$ ${this.credits}</div>`;let n=new o;n.element.innerHTML=`<div><img src="./src/img/icons/food_icon.png" class="icon me-4" alt="picture">FOOD ${this.food.amount}/${this.food.maximum}</div>`;let s=new o;s.element.innerHTML=`<div><img src="./src/img/icons/land_icon.png" class="icon me-4" alt="picture">LAND ${this.land.amount}/${this.land.maximum}</div>`;let r=new o;r.element.innerHTML=`<div><img src="./src/img/icons/citizens_icon.png" class="icon me-4" alt="picture">CITIZEN ${this.citizens.amount}/${this.citizens.maximum}</div>`;let l=new o;l.element.innerHTML=`<div><div><img src="./src/img/icons/year_icon.png" class="icon me-4" alt="picture">YEAR ${this.year}</div>`;let d=new c(["g-0"],[e,t,n,s,r,l]);this.element.append(d.element)}setInactive(){this.element.classList.add("inactive-top")}setActive(){this.element.classList.remove("inactive-top")}}class S{constructor(){i(this,"profit_range",5);i(this,"base_profit_min",1);i(this,"food_profit_rate");i(this,"seeds_planted_on_land",0);i(this,"planted_land_profit",0);i(this,"seeds_planted_greenhouse",0);i(this,"planted_greenhouse_profit",0);i(this,"food_profit_this_year",0);i(this,"distributed_food",0)}getSeedsOnLand(e){return this.seeds_planted_on_land+=e,e}setSeedsOnLand(e,t){return(t!==void 0||t!==null)&&t>e?(t-=e,{amount:this.getSeedsOnLand(e),cost:t,error:!1}):{amount:0,cost:0,error:!0}}diceLandProfitRate(){this.food_profit_rate=0,this.food_profit_rate=Math.floor(Math.random()*this.profit_range+this.base_profit_min)}calLandProfit(){this.diceLandProfitRate(),this.planted_land_profit=0,this.planted_land_profit=this.seeds_planted_on_land*this.food_profit_rate}harvestProfit(){this.calLandProfit();let e=this.planted_land_profit+this.planted_greenhouse_profit;return this.food_profit_this_year=e,console.table({food_profit_rate:this.food_profit_rate,planted_land_profit:this.planted_land_profit,planted_greenhouse_profit:this.planted_greenhouse_profit,profit:e}),this.seeds_planted_on_land=0,e}getDistributedFood(e){return this.distributed_food+=e,e}setDistributedFood(e,t){return(t!==void 0||t!==null)&&t>e?(t-=e,{amount:this.getDistributedFood(e),cost:t,error:!1}):{amount:0,cost:0,error:!0}}resetDistributedFood(){this.distributed_food=0}}class V{constructor(){i(this,"avaible_land");i(this,"price_per_land");i(this,"base_avaible_land",950);i(this,"base_avaible_land_range",50);i(this,"price_range",10);i(this,"min_price",50);this.initValues()}initValues(){this.avaible_land=Math.floor(this.base_avaible_land+(Math.random()*(this.base_avaible_land_range*2)-this.base_avaible_land_range)),this.price_per_land=this.getLandPrice()}getLandPrice(){return Math.floor(Math.random()*this.price_range+this.min_price)}buyLand(e,t){if(t!==void 0||t!==null){let n=e*this.price_per_land;if(t>n)return t-=n,{amount:this.getLand(e),cost:n,error:!1}}return{amount:0,cost:0,error:!0}}getLand(e){return this.avaible_land-=e,e}addNewLand(e){this.avaible_land+=e}addRandomLand(e,t){this.avaible_land+=Math.floor(Math.random()*t+e)}}var g;(function(a){a[a.faction_1=0]="faction_1",a[a.faction_2=1]="faction_2",a[a.faction_3=2]="faction_3"})(g||(g={}));var z;(function(a){a[a.expandable=0]="expandable",a[a.buildable=1]="buildable"})(z||(z={}));var w;(function(a){a[a.very_unhappy=0]="very_unhappy",a[a.unhappy=1]="unhappy",a[a.normal=2]="normal",a[a.happy=3]="happy",a[a.very_Happy=4]="very_Happy"})(w||(w={}));var A;(function(a){a[a.very_hungry=0]="very_hungry",a[a.hungry=1]="hungry",a[a.normal=2]="normal",a[a.saturated=3]="saturated",a[a.very_saturated=4]="very_saturated"})(A||(A={}));var y;(function(a){a[a.female=0]="female",a[a.male=1]="male"})(y||(y={}));var M;(function(a){a[a.kid=0]="kid",a[a.adult=1]="adult",a[a.grandpa=2]="grandpa"})(M||(M={}));class P{constructor(){i(this,"gender",Math.floor(Math.random()*2));i(this,"age",0);i(this,"mature_time",12);i(this,"grandpa_time",60);i(this,"life_stage",0);i(this,"depression",0);i(this,"happiness",0);i(this,"happiness_state",0);i(this,"isHorny",!1);i(this,"hunger",15);i(this,"saturation",3);i(this,"work_power",5);i(this,"mortality_rate",.05)}checkDeath(){let e=this.mortality_rate*this.age+this.depression/5;return Math.floor(Math.random()*150)<e}grow(){switch(this.age++,this.age){case this.mature_time:this.life_stage=M.adult,this.setHunger(5),this.setWorkPower(35),this.mortality_rate=.4,this.setDepression(5);break;case this.grandpa_time:this.life_stage=M.grandpa,this.setHunger(-2),this.setWorkPower(-10),this.mortality_rate=.8;break}}setDepression(e){(0<e||e<100)&&(this.depression+=e,this.depression>100?this.depression=100:this.depression<0&&(this.depression=0))}setHunger(e){(5<e||e<25)&&(this.hunger+=e,this.hunger>100?this.hunger=100:this.hunger<0&&(this.hunger=0))}setSaturation(e){(0<e||e<4)&&(this.saturation+=e,this.saturation>100?this.saturation=100:this.saturation<0&&(this.saturation=0))}setSaturationState(){}setWorkPower(e){(1<e||e<50)&&(this.work_power+=e,this.work_power>100?this.work_power=100:this.work_power<0&&(this.work_power=0))}setHappiness(e){(0<e||e<100)&&(this.happiness+=e,this.happiness>100?this.happiness=100:this.happiness<0&&(this.happiness=0),this.setHappinessState())}setHappinessState(){this.happiness>0&&this.happiness<15?this.happiness_state=w.very_unhappy:this.happiness>15&&this.happiness<39?this.happiness_state=w.unhappy:this.happiness>40&&this.happiness<59?this.happiness_state=w.normal:this.happiness>60&&this.happiness<79?this.happiness_state=w.happy:this.happiness>80&&(this.happiness_state=w.very_Happy)}checkHorny(){this.life_stage>0&&this.happiness_state>0&&this.saturation>1&&this.depression<80&&(this.isHorny=!0)}getDepression(){return this.depression}getAge(){return this.age}getWorkPower(){return this.work_power}getHunger(){return this.hunger}getHappiness(){return this.happiness}getHorny(){return this.isHorny}getGender(){return this.gender}}class I{constructor(){i(this,"population",0);i(this,"citizen_hunger_sum");i(this,"citizen_workPower_sum");i(this,"citizen_depression_sum");i(this,"citizen_depression_ave");i(this,"citizen_happiness_sum");i(this,"citizen_happiness_ave");i(this,"citizen_age_sum");i(this,"citizen_age_ave");i(this,"citizen_dead",0);i(this,"citizen_dead_this_year",0);i(this,"citizen_new_this_year",0)}createCitizen(e,t){for(let n=0;n<e;n++)t.push(new P),this.population++}checkDeath(e){e.forEach((t,n)=>{t.checkDeath()&&(e.splice(n,1),this.population--,this.citizen_dead++,this.citizen_dead_this_year++)})}feedCitizen(){}bornNewCitizen(e){let t=0,n=0,s=0,r=0;for(e.forEach(l=>{l.getHorny()&&(l.gender===y.female?t++:l.gender===y.male?n++:console.error("Citizen Gender not found"))});n>0&&t>0;)s++,t--,n--;for(let l=s;l>0;l--){let d=Math.floor(Math.random()*100);d>0&&d<40||(d>40&&d<=80?r++:d>80&&d<=95?r+=2:d>95&&d<=100&&(r+=3))}this.citizen_new_this_year+=r,this.createCitizen(r,e)}refreshStats(e){this.calAveAge(e),this.calSumHunger(e),this.calSumWorkPower(e),this.calAveDepression(e),this.calAveHappiness(e)}newYearRoutine(e){this.refreshStats(e),this.calHornyState(e),this.citizen_new_this_year=0,this.citizen_dead_this_year=0,this.checkDeath(e),this.makeAllHappy(e,Math.floor(Math.random()*100)),this.makeAllOld(e,1),this.refreshStats(e)}makeAllOld(e,t){e.forEach(n=>{let s=t;for(let r=0;r<s;r++)n.grow()})}makeAllOldRandom(e,t,n){e.forEach(s=>{let r=Math.floor(Math.random()*n+t);for(let l=0;l<r;l++)s.grow()})}makeAllHappy(e,t){e.forEach(n=>{let s=t;n.setHappiness(s)})}calSumDepression(e){this.citizen_depression_sum=0,e.forEach(t=>{this.citizen_depression_sum+=t.getDepression()})}calAveDepression(e){this.citizen_depression_ave=0,this.calSumDepression(e),this.citizen_depression_ave=Math.floor(this.citizen_depression_sum/this.population)}calSumHappiness(e){this.citizen_happiness_sum=0,e.forEach(t=>{this.citizen_happiness_sum+=t.getHappiness()})}calAveHappiness(e){this.citizen_happiness_ave=0,this.calSumHappiness(e),this.citizen_happiness_ave=Math.floor(this.citizen_happiness_sum/this.population)}calSumAge(e){this.citizen_age_sum=0,e.forEach(t=>{this.citizen_age_sum+=t.getAge()})}calAveAge(e){this.citizen_age_ave=0,this.calSumAge(e),this.citizen_age_ave=Math.floor(this.citizen_age_sum/this.population)}calSumWorkPower(e){this.citizen_workPower_sum=0,e.forEach(t=>{this.citizen_workPower_sum+=t.getWorkPower()})}calSumHunger(e){this.citizen_hunger_sum=0,e.forEach(t=>{this.citizen_hunger_sum+=t.getHunger()})}calHornyState(e){e.forEach(t=>{t.checkHorny()})}getCitizenPopulation(){return this.population}getCitizenDeadThisYear(){return this.citizen_dead_this_year}getCitizenHungerSum(e){return this.calSumHunger(e),this.citizen_hunger_sum}getCitizenWorkPowerSum(e){return this.calSumWorkPower(e),this.citizen_workPower_sum}getCitizenDepressionAve(e){return this.calAveDepression(e),this.citizen_depression_ave}getCitizensHappinessAve(e){return this.calAveHappiness(e),this.citizen_happiness_ave}}class O{constructor(){i(this,"buildings_maintenance");i(this,"buildings_land_occupied",50);i(this,"appartments",0);i(this,"food_storage",0);i(this,"buildings")}getLandOccupied(){return this.buildings_land_occupied}getAppartments(){return this.appartments}getFoodStorage(){return this.food_storage}}let H={choose_faction:{text:"Choose your Faction you want to play!"},main_menu:{text:" we are waiting for you orders."}},p={factions:{faction_1:"European Union",faction_2:"American Trade Company",faction_3:"Red Legion"},greeting:["greetings sir","Hello cocksucker","greetings comrade"]},v={faction_1:{name:p.factions.faction_1,description:`The European Union
 
 an alliance of European countries that promotes democracy, freedom and equality. A commendable ideology, but the path is difficult if different cultures and opinions are to find a consensus.
 
Those who do not live here know Europe as the land of freedom, the inhabitants call it the bureaucratic hell.`,history:"",characteristics:""},faction_2:{name:p.factions.faction_2,description:`The American Company (TAC)
 
 is known for its capitalist governance.
 Money is worth more than ethical values. 
 
 Money equals power and the powerful set the rules.`,history:"",characteristics:""},faction_3:{name:p.factions.faction_3,description:`The Red Legion
 
a religious state that has adopted the idiology of communism. 
 
All are equal under the leadership of the state which goes hand in hand with the Catholic Church.
        `,history:"",characteristics:""}};class R{constructor(){i(this,"name");i(this,"level");i(this,"type");i(this,"maintenance");i(this,"build_cost_credits");i(this,"build_cost_land")}}class B extends R{constructor(){super();this.maintenance=100}}class G{constructor(){i(this,"building_tax_sum");i(this,"credits_income");i(this,"citizen_tax",.1);i(this,"credits_expenses");i(this,"credits_balance")}calIncome(e){this.credits_income=0,this.credits_income=this.citizen_tax*e}calExpenses(){this.credits_expenses=0}calBalance(e){this.calIncome(e),this.calExpenses(),this.credits_balance=0,this.credits_balance=this.credits_income-this.credits_expenses}calcGreenhouse(e){e.maintenance*1}calBuildingTaxSum(){}}class Y{constructor(){i(this,"handler",{selectAreaHandler:null,displayHandler:null});i(this,"player_faction");i(this,"year",0);i(this,"credits",0);i(this,"land_free",0);i(this,"land_occupied",0);i(this,"land_amount",0);i(this,"food_amount",0);i(this,"food_storage",0);i(this,"citizen",[]);i(this,"appartments",0);i(this,"infobar");i(this,"foodManager");i(this,"landManager");i(this,"citizenManager");i(this,"FinanceManager");i(this,"BuildingManager");i(this,"greenhouse");this.handler.displayHandler=new T,this.handler.selectAreaHandler=new D,this.infobar=new C,this.foodManager=new S,this.landManager=new V,this.citizenManager=new I,this.FinanceManager=new G,this.BuildingManager=new O,this.greenhouse=new B,this.FinanceManager.calcGreenhouse(this.greenhouse),this.displayChooseFaction()}async initGame(e){switch(this.year=1,this.infobar.setFaction(this.player_faction),e){case 0:this.credits=2500,this.food_amount=5e3,this.land_free=450,this.citizenManager.createCitizen(50,this.citizen),this.citizenManager.makeAllOldRandom(this.citizen,18,30),this.citizenManager.makeAllHappy(this.citizen,Math.floor(Math.random()*80+20));break;case 1:this.credits=3500,this.food_amount=5e3,this.land_free=450,this.citizenManager.createCitizen(50,this.citizen),this.citizenManager.makeAllOldRandom(this.citizen,18,65),this.citizenManager.makeAllHappy(this.citizen,Math.floor(Math.random()*80+20));break;case 2:this.credits=2e3,this.food_amount=5e3,this.land_free=450,this.citizenManager.createCitizen(100,this.citizen),this.citizenManager.makeAllOldRandom(this.citizen,18,40),this.citizenManager.makeAllHappy(this.citizen,Math.floor(Math.random()*80+20));break}this.citizenManager.checkDeath(this.citizen),this.citizenManager.refreshStats(this.citizen),this.infobar.draw(),this.infobar.setActive(),this.mainMenu(),this.updateInfoBarAll(),console.log(this.citizen)}resetGameData(){this.year=0,this.credits=0,this.food_amount=0,this.land_free=0,this.citizen=[]}newYear(){this.citizenManager.newYearRoutine(this.citizen),this.food_amount-=this.citizenManager.getCitizenHungerSum(this.citizen),this.food_amount+=this.foodManager.harvestProfit(),this.citizenManager.bornNewCitizen(this.citizen),console.log(this.citizen),this.checkGameOver()?this.showGameOver():(this.showReport(),this.year++,this.citizenManager.citizen_dead_this_year=0,this.updateInfoBarAll())}checkGameOver(){return this.citizen.length<1||this.credits<-500}updateInfoBarAll(){this.getFoodStorage(),this.getAppartments(),this.calLandAmount(),this.infobar.update({credits:this.credits,food:{amount:this.food_amount,maximum:this.food_storage},land:{amount:this.land_free,maximum:this.land_amount},citizen:{amount:this.citizenManager.population,maximum:this.appartments},year:this.year})}getFoodStorage(){this.food_storage=this.BuildingManager.getFoodStorage()}getAppartments(){this.appartments=this.BuildingManager.getAppartments()}getOccupiedLand(){this.land_occupied=this.BuildingManager.getLandOccupied()}calLandAmount(){this.getOccupiedLand(),this.land_amount=this.land_free+this.land_occupied}async displayChooseFaction(){this.resetGameData(),this.clearView(),await this.handler.displayHandler.displayText(H.choose_faction.text);let e=new h(p.factions.faction_1,["btn","btn-primary","w-100"],()=>this.confirmFaction(p.factions.faction_1)),t=new h(p.factions.faction_2,["btn","btn-primary","w-100"],()=>this.confirmFaction(p.factions.faction_2)),n=new h(p.factions.faction_3,["btn","btn-primary","w-100"],()=>this.confirmFaction(p.factions.faction_3)),s=new o([],[e]),r=new o([],[t]),l=new o([],[n]),d=new c([],[s,r,l]);this.setView([d])}async confirmFaction(e){switch(this.clearView(),e){case p.factions.faction_1:await this.handler.displayHandler.displayText(v.faction_1.description),this.player_faction=g.faction_1;break;case p.factions.faction_2:await this.handler.displayHandler.displayText(v.faction_2.description),this.player_faction=g.faction_2;break;case p.factions.faction_3:await this.handler.displayHandler.displayText(v.faction_3.description),this.player_faction=g.faction_3;break}let t=new h("start",["btn","btn-primary","w-100"],()=>this.initGame(this.player_faction)),n=new h("back",["btn","btn-primary","w-100"],()=>this.displayChooseFaction()),s=new o([],[t]),r=new o([],[n]),l=new c([],[s]),d=new c([],[r]);this.setView([l,d])}async mainMenu(){this.handler.selectAreaHandler.clearView(),await this.handler.displayHandler.displayText(`${p.greeting[this.player_faction]}${H.main_menu.text}`);let e=new h("trade",["btn","btn-primary","w-100"],()=>this.tradeMenu()),t=new h("Manage food",["btn","btn-primary","w-100"],()=>this.manageFoodMenu()),n=new h("build",["btn","btn-primary","w-100"],()=>{},!0),s=new h("technology",["btn","btn-primary","w-100"],()=>{},!0),r=new h("next Year",["btn","btn-primary","w-100"],()=>this.newYear()),l=new o([],[e]),d=new o([],[t]),u=new o([],[n]),_=new o([],[s]),m=new o([],[r]),f=new c([],[l,d,u,_]),k=new c([],[m]);this.handler.selectAreaHandler.setView([f,k])}async tradeMenu(){this.handler.selectAreaHandler.clearView(),await this.handler.displayHandler.displayText("Trade Menu");let e=new h("trade land",["btn","btn-primary","w-100"],()=>this.landTradeMenu()),t=new h("trade food",["btn","btn-primary","w-100"],()=>this.foodTradeMenu()),n=new h("back",["btn","btn-primary","w-100"],()=>this.mainMenu()),s=new o([],[e]),r=new o([],[t]),l=new o([],[n]),d=new c([],[s,r]),u=new c([],[l]);this.handler.selectAreaHandler.setView([d,u])}async landTradeMenu(){await this.handler.displayHandler.displayText("The Price for 1 Claim of Land cost "+this.landManager.price_per_land+" creits");let e=new b(["w-100"],"land-trade-amount"),t=new h("buy land",["btn","btn-primary","w-100"],async()=>this.buyLand(e.element)),n=new h("sell land",["btn","btn-primary","w-100"],()=>{}),s=new h("back",["btn","btn-primary","w-100"],()=>this.tradeMenu()),r=new o([],[e]),l=new o([],[t]),d=new o([],[n]),u=new o([],[s]),_=new c([],[r]),m=new c([],[l,d]),f=new c([],[u]);this.handler.selectAreaHandler.setView([_,m,f])}async buyLand(e){let t=this.landManager.buyLand(parseInt(e.value),this.credits);t.error?await this.handler.displayHandler.displayText("I'm sorry commander, but you don't have enough credits to buy that."):(this.land_amount+=t.amount,this.credits-=t.cost,this.infobar.update({credits:this.credits,land:{amount:this.land_amount,maximum:this.land_amount}}),this.mainMenu())}async foodTradeMenu(){let e=new b(["w-100"],"food-trade-amount"),t=new h("buy land",["btn","btn-primary","w-100"],()=>{}),n=new h("sell land",["btn","btn-primary","w-100"],()=>{}),s=new h("back",["btn","btn-primary","w-100"],()=>this.tradeMenu()),r=new o([],[e]),l=new o([],[t]),d=new o([],[n]),u=new o([],[s]),_=new c([],[r]),m=new c([],[l,d]),f=new c([],[u]);this.handler.selectAreaHandler.setView([_,m,f])}async manageFoodMenu(){this.handler.selectAreaHandler.clearView(),await this.handler.displayHandler.displayText("Manage food Menu");let e=new h("plant Seeds",["btn","btn-primary","w-100"],()=>this.plantSeedsMenu()),t=new h("Distribute food",["btn","btn-primary","w-100"],()=>this.distributeFoodMenu()),n=new h("back",["btn","btn-primary","w-100"],()=>this.mainMenu()),s=new o([],[e]),r=new o([],[t]),l=new o([],[n]),d=new c([],[s,r]),u=new c([],[l]);this.handler.selectAreaHandler.setView([d,u])}async plantSeedsMenu(){await this.handler.displayHandler.displayText("You have "+this.foodManager.seeds_planted_on_land+" seeds planed for this Year");let e=new b(["w-100"],"plant-seed-amount"),t=new h("add planned seeding",["btn","btn-primary","w-100"],()=>this.plantSeeds(e.element)),n=new h("reduce planned seeding",["btn","btn-primary","w-100"],()=>{}),s=new h("back",["btn","btn-primary","w-100"],()=>this.manageFoodMenu()),r=new o([],[e]),l=new o([],[t]),d=new o([],[n]),u=new o([],[s]),_=new c([],[r]),m=new c([],[l,d]),f=new c([],[u]);this.handler.selectAreaHandler.setView([_,m,f])}async plantSeeds(e){let t=this.foodManager.setSeedsOnLand(parseInt(e.value),this.food_amount);t.error?await this.handler.displayHandler.displayText("I'm sorry commander, but you don't have enough Food to plant."):(this.food_amount-=t.amount,this.infobar.update({food:{amount:this.food_amount,maximum:null}}),this.plantSeedsMenu())}async distributeFoodMenu(){await this.handler.displayHandler.displayText("You have "+this.foodManager.distributed_food+" Food planed for this Year");let e=new b(["w-100"],"distribute-food-amount"),t=new h("add food planned for distribute",["btn","btn-primary","w-100"],async()=>this.distributFood(e.element)),n=new h("back",["btn","btn-primary","w-100"],()=>this.manageFoodMenu()),s=new o([],[e]),r=new o([],[t]),l=new o([],[n]),d=new c([],[s]),u=new c([],[r]),_=new c([],[l]);this.handler.selectAreaHandler.setView([d,u,_])}async distributFood(e){let t=this.foodManager.setDistributedFood(parseInt(e.value),this.food_amount);t.error?await this.handler.displayHandler.displayText("I'm sorry commander, but you don't have enough Food to distribiute."):(this.food_amount-=t.amount,this.infobar.update({food:{amount:this.food_amount,maximum:null}}),this.distributeFoodMenu())}async showReport(){this.handler.selectAreaHandler.clearView(),await this.handler.displayHandler.displayText("This is the Report for Year "+this.year+`
`+this.citizenManager.citizen_dead_this_year+` died last year 
`+this.citizenManager.citizen_new_this_year+` citizens have been born this year
 you made `+this.foodManager.food_profit_this_year+" Food");let e=new h("Understood",["btn","btn-primary","w-100"],()=>this.mainMenu()),t=new h("Help me",["btn","btn-primary","w-100"],()=>this.mainMenu()),n=new o([],[e]),s=new o([],[t]),r=new c([],[n]),l=new c([],[s]);this.handler.selectAreaHandler.setView([r,l])}async showGameOver(){this.handler.selectAreaHandler.clearView(),await this.handler.displayHandler.displayText("Seems your Colony is lost Commander, it have been "+this.year+" wonderfull years with you as our leader");let e=new h("View Highscore",["btn","btn-primary","w-100"],()=>this.showHighScore()),t=new h("New Game",["btn","btn-primary","w-100"],()=>this.displayChooseFaction()),n=new o([],[e]),s=new o([],[t]),r=new c([],[n]),l=new c([],[s]);this.handler.selectAreaHandler.setView([r,l])}async showHighScore(){this.handler.selectAreaHandler.clearView(),await this.handler.displayHandler.displayText("#")}clearView(){this.handler.selectAreaHandler.setInactive()}setView(e){this.handler.selectAreaHandler.setView(e),this.handler.selectAreaHandler.setActive()}}new Y;
